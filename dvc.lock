schema: '2.0'
stages:
  label_data_extract:
    cmd: python pipelines/extract_data_to_label.py 
      "inputs/label_data/2025-08.enwiki.2025-08.tsv" 1h 
      "outputs/label_data/2025-08.enwiki.2025-08.csv" 
      "outputs/counts_2025-08.enwiki.2025-08.csv"
    deps:
    - path: inputs/label_data/2025-08.enwiki.2025-08.tsv
      hash: md5
      md5: d29c79b5648885ca11f29af6f6198def
      size: 3304552022
    - path: pipelines/extract_data_to_label.py
      hash: md5
      md5: df461a003dd7966dc679bdb2e8fa23c7
      size: 1436
    - path: wikilacra/stream.py
      hash: md5
      md5: 830e410d05cbe03911ce279e8e568818
      size: 3024
    outs:
    - path: outputs/counts_2025-08.enwiki.2025-08.csv
      hash: md5
      md5: 07c0d6341845ea035f155b6285b03a31
      size: 366322900
    - path: outputs/label_data/2025-08.enwiki.2025-08.csv
      hash: md5
      md5: 4e17751a4de7fc97871d46ff70777268
      size: 127266
  labeled_data_transform:
    cmd: python pipelines/labeled_data_transform.py "2025-08-01 00:00:00" 6 
      "inputs/labeled_data/25-08-enwiki-25-08 data annotation - 8-1 through 
      8-31.csv" "outputs/labeled_transformed/labels_only_aug25.csv"
    deps:
    - path: inputs/labeled_data/25-08-enwiki-25-08 data annotation - 8-1 through
        8-31.csv
      hash: md5
      md5: 87f54ae38e3c16beac7900c4ccac6883
      size: 140642
    - path: pipelines/labeled_data_transform.py
      hash: md5
      md5: 60e9ce2a86ffdb6d4e2c3f3cd54bc90a
      size: 1436
    outs:
    - path: outputs/labeled_transformed/labels_only_aug25.csv
      hash: md5
      md5: 0745df89ae9cbd3d103e1465e9dc4f4d
      size: 136575
  train-RF:
    cmd: python pipelines/RF.py "outputs/labeled_transformed/labels_aug25.csv" 
      f1 42 1 2 0 "(1,2,3,4,5)" 0 "(50,100)" 0.2 5
    deps:
    - path: outputs/labeled_transformed/labels_aug25.csv
      hash: md5
      md5: de794a9b56026e6e67295ab0cf46e556
      size: 226533
    - path: pipelines/RF.py
      hash: md5
      md5: 019715a2063ed8dfd29931c7197e1a49
      size: 2989
    - path: wikilacra/data.py
      hash: md5
      md5: 27aee338a956c9169c4f7585a11f937d
      size: 2341
    - path: wikilacra/scoring.py
      hash: md5
      md5: 18667fb7a367fa98851f1362d9434f7b
      size: 945
    outs:
    - path: dvclive/
      hash: md5
      md5: edcae3c53745af380782e7a3a23bd10e.dir
      size: 16845
      nfiles: 5
  features:
    cmd: python pipelines/engineer-features.py 6 
      "inputs/label_data/2025-08.enwiki.2025-08.tsv" 
      "outputs/labeled_transformed/labels_only_aug25.csv" 
      "outputs/counts_2025-08.enwiki.2025-08.csv" 
      "outputs/labeled_transformed/labels_aug25.csv"
    deps:
    - path: inputs/label_data/2025-08.enwiki.2025-08.tsv
      hash: md5
      md5: d29c79b5648885ca11f29af6f6198def
      size: 3304552022
    - path: outputs/counts_2025-08.enwiki.2025-08.csv
      hash: md5
      md5: 07c0d6341845ea035f155b6285b03a31
      size: 366322900
    - path: outputs/labeled_transformed/labels_only_aug25.csv
      hash: md5
      md5: 0745df89ae9cbd3d103e1465e9dc4f4d
      size: 136575
    - path: pipelines/engineer-features.py
      hash: md5
      md5: 71322aad340db5f9296aff6a19fcd7e0
      size: 1596
    - path: wikilacra/features.py
      hash: md5
      md5: ba6c25feef20440efbc1ffc4601b4b7b
      size: 6229
    outs:
    - path: outputs/labeled_transformed/labels_aug25.csv
      hash: md5
      md5: de794a9b56026e6e67295ab0cf46e556
      size: 226533
